<div class="product-detail-container">
  <div class="breadcrumb">
    <button mat-button (click)="goBack()">
      <mat-icon>arrow_back</mat-icon>
      Back to Products
    </button>
  </div>

  <div *ngIf="loading" class="loading-container">
    <mat-spinner></mat-spinner>
    <p>Loading product details...</p>
  </div>

  <div *ngIf="error" class="error-container">
    <mat-icon class="error-icon">error</mat-icon>
    <h2>{{ error }}</h2>
    <button mat-raised-button color="primary" (click)="goBack()">
      Browse Products
    </button>
  </div>

  <div *ngIf="product && !loading" class="product-content">
    <div class="product-image-section">
      <div class="main-image">
        <img [src]="product.imageUrl || '/assets/placeholder.jpg'"
             [alt]="product.title" class="product-image">
      </div>
    </div>

    <div class="product-info-section">
      <div class="product-header">
        <h1 class="product-title">{{ product.title }}</h1>
        <div class="product-price">
          <span class="price">${{ product.price.toFixed(2) }}</span>
          <span class="price-note">One-time purchase</span>
        </div>
      </div>

      <div class="product-description">
        <h3>Description</h3>
        <p>{{ product.description }}</p>
      </div>

      <div class="product-features">
        <h3>What you'll get:</h3>
        <ul>
          <li>
            <mat-icon>download</mat-icon>
            Instant digital download
          </li>
          <li>
            <mat-icon>security</mat-icon>
            Secure payment processing
          </li>
          <li>
            <mat-icon>support</mat-icon>
            Customer support included
          </li>
          <li>
            <mat-icon>update</mat-icon>
            Lifetime access
          </li>
        </ul>
      </div>

      <div class="product-actions">
        <button mat-raised-button color="primary" size="large"
                (click)="buyNow()" class="buy-now-btn">
          <mat-icon>flash_on</mat-icon>
          Buy Now
        </button>

        <button mat-stroked-button color="primary" size="large"
                (click)="addToCart()" class="add-to-cart-btn">
          <mat-icon>add_shopping_cart</mat-icon>
          Add to Cart
        </button>
      </div>

      <div class="security-badges">
        <div class="badge">
          <mat-icon>verified_user</mat-icon>
          <span>Secure Payment</span>
        </div>
        <div class="badge">
          <mat-icon>lock</mat-icon>
          <span>SSL Protected</span>
        </div>
        <div class="badge">
          <mat-icon>replay</mat-icon>
          <span>30-Day Guarantee</span>
        </div>
      </div>
    </div>
  </div>
</div>
